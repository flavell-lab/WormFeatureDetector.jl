<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>HSN Feature Detection API · WormFeatureDetector</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">WormFeatureDetector</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">WormFeatureDetector.jl Documentation</a></li><li><a class="tocitem" href="../curve/">Worm Curvature API</a></li><li><a class="tocitem" href="../head/">Head Detection API</a></li><li class="is-active"><a class="tocitem" href>HSN Feature Detection API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>HSN Feature Detection API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>HSN Feature Detection API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/flavell-lab/WormFeatureDetector.jl/blob/master/docs/src/hsn.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="HSN-Feature-Detection-API"><a class="docs-heading-anchor" href="#HSN-Feature-Detection-API">HSN Feature Detection API</a><a id="HSN-Feature-Detection-API-1"></a><a class="docs-heading-anchor-permalink" href="#HSN-Feature-Detection-API" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="WormFeatureDetector.find_gut_granules" href="#WormFeatureDetector.find_gut_granules"><code>WormFeatureDetector.find_gut_granules</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Finds, returns, and outputs gut granule masks for a set of images. The masks filter out the gut granules, so 1 is not a gut granule, and 0 is a gut granule.</p><p><strong>Arguments</strong></p><ul><li><code>path::String</code>: working directory path; all other directory inputs are relative to this</li><li><code>names::Array{String,1}</code>: filenames of images to process</li><li><code>threshold::Real</code>: pixel intensity brightness value. Pixels below this intensity are excluded</li><li><code>density::Real</code>: density of nearby pixels that must meet the threshold for the original pixel to be counted</li><li><code>radius</code>: distances in each dimension (in pixels) away from the original pixel that are counted as nearby.   For example, <code>radius = [3, 2, 1]</code> would allow a distance of three pixels in the x-direction, two pixels in the y-direction,   and one pixel in the z-direction.</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>nrrd::String</code>: path to NRRD directory, where the image will be found. Default &quot;NRRD&quot;.</li><li><code>out::String</code>: path to output directory to store the masks. If left blank (default), images will not be written.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/WormFeatureDetector.jl/blob/f372e5dc0b0b69d6b9e37d82bff40a07978047a5/src/worm_feature_detector.jl#L32-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="WormFeatureDetector.find_hsn" href="#WormFeatureDetector.find_hsn"><code>WormFeatureDetector.find_hsn</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Finds location of the HSN soma in a frame. First threshold to remove densely-packed regions that might correspond to gut fluorescence or neuropil (by excluding too-dense regions), then threshold again to ensure high local density (by excluding not-dense regions). If multiple regions are still included, the larger region is chosen. Can optionally choose to output data to a file, for use with heuristics.</p><p><strong>Arguments:</strong></p><ul><li><code>path::String</code>: working directory path; all other directory inputs are relative to this</li><li><code>frames</code>: frames of images to process</li><li><code>dir_nrrd::String</code>: path to NRRD directory, where the image will be found.</li><li><code>img_prefix::String</code>: image prefix not including the timestamp. It is assumed that each frame&#39;s filename   will be, eg, <code>img_prefix_t0123_ch2.nrrd</code> for frame 123 with channel=2.</li><li><code>channel::Integer</code>: channel being used.</li><li><code>threshold_outer::Real</code>: pixel intensity brightness value. Pixels below this intensity are excluded</li><li><code>density_outer::Real</code>: density of nearby pixels that must meet the outer threshold for the original pixel to <strong>NOT</strong> be counted</li><li><code>radius_outer</code>: distances in each dimension (in pixels) away from the original pixel that are counted as nearby.</li></ul><p>For example, <code>radius = [3, 2, 1]</code> would allow a distance of three pixels in the x-direction, two pixels in the y-direction, and one pixel in the z-direction.</p><ul><li><code>threshold_inner::Real</code>: pixel intensity brightness value. Pixels below this intensity are excluded</li><li><code>density_inner::Real</code>: density of nearby pixels that must meet the inner threshold for the original pixel to be counted</li><li><code>radius_inner</code>: distances in each dimension (in pixels) away from the original pixel that are counted as nearby.</li></ul><p>For example, <code>radius = [3, 2, 1]</code> would allow a distance of three pixels in the x-direction, two pixels in the y-direction, and one pixel in the z-direction.</p><ul><li><code>radius_detection</code>: If multiple locations remain as possible HSN locations after both thresholding steps,   the location with the most other such points within <code>radius_detection</code> of it is chosen. </li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>outfile::String</code>: path to HSN output file. If left blank (default), no output will be written.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/WormFeatureDetector.jl/blob/f372e5dc0b0b69d6b9e37d82bff40a07978047a5/src/worm_feature_detector.jl#L67-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="WormFeatureDetector.find_nerve_ring" href="#WormFeatureDetector.find_nerve_ring"><code>WormFeatureDetector.find_nerve_ring</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Finds location of the nerve ring in a frame. Can optionally output nerve ring locations to a file for use with heuristics.</p><p><strong>Arguments:</strong></p><ul><li><code>path::String</code>: working directory path; all other directory inputs are relative to this</li><li><code>frames</code>: frames of images to process</li><li><code>dir_nrrd::String</code>: path to NRRD directory, where the image will be found.</li><li><code>img_prefix::String</code>: image prefix not including the timestamp. It is assumed that each frame&#39;s filename   will be, eg, <code>img_prefix_t0123_ch2.nrrd</code> for frame 123 with channel=2.</li><li><code>channel::Integer</code>: channel being used.</li><li><code>threshold::Real</code>: pixel intensity brightness value. Pixels below this intensity are excluded</li><li><code>region</code>: region of the image that will be searched for the nerve ring. Generically, you should try to include the nerve ring   and exclude any other regions (such as gut granules, HSN soma, etc)</li><li><code>radius</code>: The location with the most other points that meet the threshold within <code>radius</code> of it is chosen   as the nerve ring location.</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>outfile::String</code>: path to nerve ring output file. If left blank (default), no output will be written.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/WormFeatureDetector.jl/blob/f372e5dc0b0b69d6b9e37d82bff40a07978047a5/src/worm_feature_detector.jl#L170-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="WormFeatureDetector.elastix_difficulty_hsn_nr" href="#WormFeatureDetector.elastix_difficulty_hsn_nr"><code>WormFeatureDetector.elastix_difficulty_hsn_nr</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Computes registration difficulty between two frames based on the HSN and nerve ring locations</p><p><strong>Arguments:</strong></p><ul><li><code>rootpath::String</code>: working directory path; all other directory inputs are relative to this</li><li><code>frame1::Integer</code>: first frame</li><li><code>frame2::Integer</code>: second frame</li><li><code>hsn_location_file::String</code>: path to file containing HSN locations</li><li><code>nr_location_file::String</code>: path to file containing nerve ring locations</li></ul><p><strong>Heuristic parameters (optional):</strong></p><ul><li><code>nr_weight::Real</code>: weight of nerve ring location relative to HSN location. Default 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/flavell-lab/WormFeatureDetector.jl/blob/f372e5dc0b0b69d6b9e37d82bff40a07978047a5/src/heuristics.jl#L1-L12">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../head/">« Head Detection API</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Thursday 14 April 2022 18:44">Thursday 14 April 2022</span>. Using Julia version 1.7.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
